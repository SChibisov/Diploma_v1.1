## Документация Flask API

### Описание

Данный API предоставляет доступ к функциям управления пользователями, продуктами и корзинами покупок.
Он использует Flask для создания веб-приложения и Flask-RESTful для реализации RESTful API.

### Версии

API работает на версии **v1**.

### Префикс API

Все маршруты начинаются с префикса `/api/v1`.

#### Пользователи

| Маршрут              | Действие                                                  |
|----------------------|-----------------------------------------------------------|
| /users/<int:user_id> | Получение информации о конкретном пользователе по его ID. |
| /users               | Получение списка всех пользователей.                      |

#### Продукты

| Маршрут                    | Действие                                   |
|----------------------------|--------------------------------------------|
| /products/<int:product_id> | Получение информации о продукте по его ID. |
| /products                  | Получение списка всех продуктов.           |

#### Корзины покупок

| Маршрут              | Действие                                                        |
|----------------------|-----------------------------------------------------------------|
| /carts/<int:user_id> | Управление корзиной покупок конкретного пользователя по его ID. |

### Запуск

Для запуска приложения приложения приложения приложения API необходимо выполнить команду `python app.py` в терминале.
В режиме отладки (`debug=True`) сервер будет запущен на порту 5000.

### Тестирование

Вы можете протестировать API, используя любой HTTP-клиент или библиотеку для тестирования. 
Например, вы можете использовать curl для отправки запросов к API: curl -X GET "http://localhost:5000/api/v1/users"

## Документация моделей данных
### User (Пользователь)
Описание: модель представляет пользователя системы.

Атрибуты:

id — уникальный идентификатор пользователя.
login — логин пользователя.
email — адрес электронной почты пользователя.
age — возраст пользователя.

### Product (Продукт)
Описание: модель описывает продукт, доступный в системе.

Атрибуты:

id — уникальный идентификатор продукта.
product_name — название продукта.
product_cnt — количество продукта на складе.
is_available — флаг доступности продукта (True — доступен, False — нет).

### Cart (Корзина)
Описание: модель содержит информацию о корзине покупок пользователя.

Атрибуты:

id — уникальный идентификатор корзины.
user_id — идентификатор пользователя, которому принадлежит корзина.
product_id — идентификатор продукта в корзине.
product_name — название продукта в корзине.
product_count — количество товара в корзине.

## Документация API-маршрута для работы с пользователями
### Описание
API-маршрут /api/v1/users/<int:user_id> позволяет получить информацию о конкретном пользователе по его ID.

### Метод
GET
### Параметры
user_id — обязательный параметр, уникальный идентификатор пользователя.
### Ответ
В случае успешного выполнения запроса возвращается объект пользователя в формате JSON, содержащий следующие поля:

id;
login;
email;
age.
#### Если пользователь с указанным ID не найден, возвращается ответ с кодом 404 и сообщением «User with ID <ID> does not exist».

### Метод
PUT
### Параметры
user_id — обязательный параметр, уникальный идентификатор пользователя.
### Тело запроса
Запрос должен содержать следующие поля в формате JSON:

login;
email;
age.
### Ответ
В случае успешного выполнения запроса возвращается ответ с кодом 200 и сообщением «User with ID <ID> updated successfully».
Если произошла ошибка или пользователь с указанным ID не найден, возвращается соответствующий ответ с кодами 400 или 404 и соответствующими сообщениями об ошибке.

### Метод
DELETE
### Параметры
user_id — обязательный параметр, уникальный идентификатор пользователя.
### Ответ
В случае успешного выполнения запроса возвращается ответ с кодом 200 и сообщением «User with ID <ID> deleted successfully».
Если произошла ошибка или пользователь с указанным ID не найден, возвращается соответствующий ответ с кодами 400 или 404 и соответствующими сообщениями об ошибке.

## Документация API-маршрута для работы с продуктами
### Описание
API-маршрут /api/v1/products/<int:product_id> позволяет получить информацию о конкретном продукте по его ID.

### Метод
GET
### Параметры
product_id — обязательный параметр, уникальный идентификатор продукта.
### Ответ
В случае успешного выполнения запроса возвращается объект продукта в формате JSON, содержащий следующие поля:

id;
product_name;
product_cnt;
is_available.
#### Если продукт с указанным ID не найден, возвращается ответ с кодом 404 и сообщением «Product with ID <ID> does not exist».

### Метод
PUT
### Параметры
product_id — обязательный параметр, уникальный идентификатор продукта.
### Тело запроса
Запрос должен содержать следующие поля в формате JSON:

product_name;
product_cnt;
is_available.
### Ответ
В случае успешного выполнения запроса возвращается ответ с code 200 и сообщением «Product with ID <ID> updated successfully».
Если произошла ошибка или продукт с указанным ID не найден, возвращается соответствующий ответ с кодами 400 или 404 и соответствующими сообщениями об ошибке.

### Метод
DELETE
### Параметры
product_id — обязательный параметр, уникальный идентификатор продукта.
### Ответ
В случае успешного выполнения запроса возвращается ответ с code 200 и сообщением «Product with ID <ID> deleted successfully».
Если произошла ошибка или продукт с указанным ID не найден, возвращается соответствующий ответ с кодами 400 или 404 и соответствующими сообщениями об ошибке.


## Документация API-маршрута для работы с корзиной покупок пользователя
### Описание
API-маршрут /api/v1/carts/<int:user_id> позволяет получить информацию обо всех корзинах покупок конкретного пользователя по его ID.

### Метод
GET
### Параметры
user_id — обязательный параметр, уникальный идентификатор пользователя.
### Ответ
В случае успешного выполнения запроса возвращается список объектов корзины покупок в формате JSON, содержащих следующие поля:

id;
user_id;
product_id;
product_name;
product_count.
#### Если пользователь с указанным ID не найден, возвращается ответ с code 400 и сообщением «Bad request».

### Метод
PUT
### Параметры
user_id — обязательный параметр, уникальный идентификатор пользователя.
### Тело запроса
Запрос должен содержать следующие поля в формате JSON:

product_id;
product_cnt.
### Ответ
В случае успешного выполнения запроса возвращается ответ с code 200 и сообщением «Product with ID <ID> added to cart successfully».
Если произошла ошибка или пользователь с указанным ID не найден, возвращается соответствующий ответ с кодами 400 или 404 и соответствующими сообщениями об ошибке.


### Метод
DELETE
### Параметры
user_id — обязательный параметр, уникальный идентификатор пользователя.
### Тело запроса
Запрос должен содержать следующий параметр в формате JSON:

product_id.
### Ответ
В случае успешного выполнения запроса возвращается ответ с code 200 и сообщением «Product with ID <ID> removed from cart successfully».
Если произошла ошибка или пользователь с указанным ID не найден, возвращается соответствующий ответ с кодами 400 или 404 и соответствующими сообщениями об ошибке.

## Документация репозитории SQL
### Описание
Здесь представлены SQL запросы для работы с базой данных, которые включают в себя выборку, добавление, обновление и удаление данных о пользователях и продуктах.

# Документация по классу UsersRepository

## Обзор
Класс `UsersRepository` отвечает за взаимодействие с базой данных для получения пользовательских данных. Он включает в себя функциональность для получения списка пользователей из базы данных.


## Статические методы

### `get_users() -> List[User]`
Извлекает всех пользователей из базы данных и возвращает их в виде списка объектов `User`.

#### Возвращается
- `List[User]`: A list of `User` instances containing the user data retrieved from the database.

#### Процесс
1. Создает пустой список `Users` для хранения пользовательских данных.
2. Открывает сеанс с помощью функции`get_session()`.
3. Выполняет запрос `SELECT * FROM public.users` для извлечения всех пользователей.
4. Если будут найдены результаты:
    - Повторяет каждый результат.
    - Создает новый экземпляр `User` и заполняет его атрибуты (`id`, `login`, `email` и `age`) соответствующими значениями из результата.
    - Добавляет созданный экземпляр `User` в список `users`.
5. Закрывает сессию.
6. Возвращает список экземпляров `User`.

#### Пример

python


Выборка всех пользователей

user_list = UsersRepository.get_users()
for user in user_list:
    print(f"User ID: {user.id}, Login: {user.login}, Email: {user.email}, Age: {user.age}")


## Записки
- Убедитесь, что функция `get_session()` и запрос `SELECT * FROM public.users` правильно определены в вашей кодовой базе, чтобы метод `get_users()` работал.
- Класс `User` должен быть определен в соответствии с атрибутами, заполняемыми в методе `get_users()`.
